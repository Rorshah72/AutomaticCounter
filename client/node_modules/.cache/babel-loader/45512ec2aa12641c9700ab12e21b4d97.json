{"ast":null,"code":"var _jsxFileName = \"D:\\\\AutomaticCounter\\\\client\\\\src\\\\pages\\\\AuthPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { UseHttp } from \"../hooks/http.hook\";\nimport { UseMessage } from \"../hooks/message.hook\";\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthPage = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const message = UseMessage();\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = UseHttp();\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/auth/register', 'POST', { ...form\n      });\n      message(data.message);\n      console.log('Data', data);\n    } catch (e) {}\n  };\n\n  const loginHandler = async () => {\n    try {\n      const data = await request('/api/auth/login', 'POST', { ...form\n      });\n      auth.login(data.token, data.userId);\n    } catch (e) {}\n  };\n\n  useEffect(() => {\n    window.M.updateTextFields();\n  }, []);\n  useEffect(() => {\n    message(error);\n    clearError();\n  }, [error, message, clearError]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col.s6.offset-s3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Automatic Counter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card grey darken-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content red-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-title\",\n            children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0456\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C email\",\n                id: \"email\",\n                type: \"text\",\n                name: \"email\",\n                className: \"red-input\",\n                onChange: changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"email\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n                id: \"password\",\n                type: \"password\",\n                name: \"password\",\n                className: \"red-input\",\n                onChange: changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"password\",\n                children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-action\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn green lighten-1 black-text\",\n            style: {\n              marginRight: 10\n            },\n            onClick: loginHandler,\n            disabled: loading,\n            children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn red darken-4\",\n            style: {\n              marginRight: 10\n            },\n            onClick: registerHandler,\n            disabled: loading,\n            children: \"\\u0417\\u0430\\u0454\\u0441\\u0442\\u0440\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AuthPage, \"Y/sOGLuahGvkQF6A8TcnotWZCTk=\");\n\n_c = AuthPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthPage\");","map":{"version":3,"sources":["D:/AutomaticCounter/client/src/pages/AuthPage.js"],"names":["React","useState","useEffect","useContext","UseHttp","UseMessage","AuthContext","AuthPage","auth","message","loading","request","error","clearError","form","setForm","email","password","changeHandler","event","target","name","value","registerHandler","data","console","log","e","loginHandler","login","token","userId","window","M","updateTextFields","marginRight"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\";\r\nimport {UseHttp} from \"../hooks/http.hook\";\r\nimport {UseMessage} from \"../hooks/message.hook\"\r\nimport {AuthContext} from '../context/AuthContext'\r\n\r\nexport const AuthPage = () => {\r\n  const auth = useContext(AuthContext)\r\n  const message = UseMessage()\r\n  const {loading, request, error, clearError} = UseHttp()\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\n  const changeHandler = event => {\r\n        setForm({ ...form, [event.target.name]: event.target.value })\r\n  }\r\n\r\n  const registerHandler = async () => {\r\n       try {\r\n           const data = await request('/api/auth/register', 'POST', {...form})\r\n           message(data.message)\r\n           console.log('Data', data)\r\n       }catch (e) {}\r\n   }\r\n\r\n   const loginHandler = async () => {\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', { ...form })\r\n            auth.login(data.token, data.userId)\r\n        }catch (e) {}\r\n    }\r\n\r\n   useEffect(() => {\r\n          window.M.updateTextFields()\r\n   },[])\r\n\r\n\r\n    useEffect( () => {\r\n        message(error)\r\n        clearError()\r\n\r\n    }, [error, message,clearError])\r\n\r\n  return(\r\n      <div className = \"row\">\r\n        <div className = \"col.s6.offset-s3\">\r\n          <h1>Automatic Counter</h1>\r\n\r\n          <div className=\"card grey darken-3\">\r\n            <div className=\"card-content red-text\">\r\n              <span className=\"card-title\">Авторизація</span>\r\n                <div>\r\n\r\n                <div className=\"input-field\">\r\n                  <input\r\n                    placeholder=\"Введіть email\"\r\n                    id=\"email\"\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    className= \"red-input\"\r\n                    onChange={changeHandler}\r\n                  />\r\n                  <label for=\"email\">Email</label>\r\n                </div>\r\n\r\n                <div className=\"input-field\">\r\n                  <input\r\n                    placeholder=\"Введіть пароль\"\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    className= \"red-input\"\r\n                    onChange={changeHandler}\r\n                  />\r\n                  <label for=\"password\">Пароль</label>\r\n                </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"card-action\">\r\n              <button\r\n                className = \"btn green lighten-1 black-text\"\r\n                style={{marginRight: 10}}\r\n                onClick={loginHandler}\r\n                disabled={loading}\r\n                >\r\n                  Авторизуватися\r\n              </button>\r\n\r\n              <button\r\n                className = \"btn red darken-4\"\r\n                style={{marginRight: 10}}\r\n                onClick={registerHandler}\r\n                disabled={loading}\r\n                >\r\n                  Заєструватися\r\n              </button>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}